import{c as f,r as g,j as e,B as y,o as C,s as l,p as $,a5 as M,a1 as L,a as F,A}from"./index-DvwH5F9Z.js";import{D as k,a as v,b as P,e as w,c as D,d as b}from"./dropdown-menu-qZ9h6nf4.js";import{u as _,a as E,F as I,b as c,c as d,d as m,e as u,f as j}from"./form-LyoIxO0u.js";import{D as H,a as U,b as z,c as B,d as q}from"./dialog-KCJIwJT-.js";import{I as h}from"./input-DYarJNKy.js";import{S as R}from"./separator--YnZv5Zu.js";import{X as T}from"./x-2MONtELq.js";import{U as V}from"./user-BoCM7DEh.js";import{C as O}from"./check-iYg700vF.js";const W=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],G=f("globe",W);const J=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],X=f("log-out",J);const Y=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],K=f("lock",Y);const Q=[["path",{d:"M11.5 15H7a4 4 0 0 0-4 4v2",key:"15lzij"}],["path",{d:"M21.378 16.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1817ys"}],["circle",{cx:"10",cy:"7",r:"4",key:"e45bow"}]],Z=f("user-pen",Q);const ee=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],se=f("users",ee),re="data:image/svg+xml,%3csvg%20width='168'%20height='54'%20viewBox='0%200%20168%2054'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='26.5851'%20cy='26.5851'%20r='24.5851'%20stroke='white'%20stroke-width='4'/%3e%3ccircle%20cx='64.8586'%20cy='26.5851'%20r='24.5851'%20stroke='white'%20stroke-width='4'/%3e%3ccircle%20cx='103.14'%20cy='26.5851'%20r='24.5851'%20stroke='white'%20stroke-width='4'/%3e%3ccircle%20cx='141.413'%20cy='26.5851'%20r='24.5851'%20stroke='white'%20stroke-width='4'/%3e%3c/svg%3e",te=C({firstName:l().min(1,"First name is required"),lastName:l().min(1,"Last name is required"),email:l().email("Invalid email address"),currentPassword:l().optional(),newPassword:l().optional(),confirmPassword:l().optional()}).refine(r=>r.currentPassword||r.newPassword||r.confirmPassword?r.currentPassword&&r.newPassword&&r.confirmPassword:!0,{message:"All password fields are required",path:["currentPassword"]}).refine(r=>r.newPassword?r.newPassword.length>=8:!0,{message:"New password must be at least 8 characters",path:["newPassword"]}).refine(r=>r.newPassword&&r.confirmPassword?r.newPassword===r.confirmPassword:!0,{message:"Passwords do not match",path:["confirmPassword"]});function ae({open:r,onOpenChange:x,initialData:a={firstName:"Jake",lastName:"Renshaw",email:"jake.renshaw@sunsetauto.com"}}){const[o,n]=g.useState(!1),s=_({resolver:E(te),defaultValues:{firstName:a.firstName,lastName:a.lastName,email:a.email,currentPassword:"",newPassword:"",confirmPassword:""}}),p=t=>{console.log("Profile updated:",t),x(!1),s.reset()},i=()=>{x(!1),s.reset(),n(!1)};return e.jsx(H,{open:r,onOpenChange:i,children:e.jsxs(U,{className:"sm:max-w-md",children:[e.jsxs(z,{children:[e.jsx(B,{className:"text-xl font-semibold",children:"Edit profile"}),e.jsxs("button",{onClick:i,className:"ring-offset-background focus:ring-ring absolute top-4 right-4 rounded-sm opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-none",children:[e.jsx(T,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]}),e.jsx(I,{...s,children:e.jsxs("form",{onSubmit:s.handleSubmit(p),className:"space-y-6",children:[e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"flex items-center gap-2 text-lg font-medium",children:[e.jsx(V,{className:"h-5 w-5 text-foreground"}),e.jsx("h3",{children:"Personal Information"})]}),e.jsxs("div",{className:"grid gap-4",children:[e.jsx(c,{control:s.control,name:"firstName",render:({field:t})=>e.jsxs(d,{children:[e.jsx(m,{children:"First Name"}),e.jsx(u,{children:e.jsx(h,{...t})}),e.jsx(j,{})]})}),e.jsx(c,{control:s.control,name:"lastName",render:({field:t})=>e.jsxs(d,{className:"mt-4",children:[e.jsx(m,{children:"Last Name"}),e.jsx(u,{children:e.jsx(h,{...t})}),e.jsx(j,{})]})}),e.jsx(c,{control:s.control,name:"email",render:({field:t})=>e.jsxs(d,{className:"mt-4",children:[e.jsx(m,{children:"Email"}),e.jsx(u,{children:e.jsx(h,{...t,disabled:!0,className:"bg-muted"})})]})})]})]}),e.jsx(R,{}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("button",{type:"button",onClick:()=>n(!o),className:"flex w-full items-center justify-between rounded-lg bg-muted px-4 py-3 text-left transition-colors hover:bg-muted/80",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(K,{className:"h-5 w-5 text-foreground"}),e.jsx("span",{className:"font-medium",children:"Click here to update password"})]}),e.jsx("svg",{className:`h-5 w-5 text-muted-foreground transition-transform ${o?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),o&&e.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2 space-y-4",children:[e.jsx(c,{control:s.control,name:"currentPassword",render:({field:t})=>e.jsxs(d,{children:[e.jsx(m,{children:"Current Password"}),e.jsx(u,{children:e.jsx(h,{type:"password",placeholder:"••••••••",...t})}),e.jsx(j,{})]})}),e.jsx(c,{control:s.control,name:"newPassword",render:({field:t})=>e.jsxs(d,{children:[e.jsx(m,{children:"New Password"}),e.jsx(u,{children:e.jsx(h,{type:"password",placeholder:"Enter new password",...t})}),e.jsx(j,{})]})}),e.jsx(c,{control:s.control,name:"confirmPassword",render:({field:t})=>e.jsxs(d,{children:[e.jsx(m,{children:"Confirm Password"}),e.jsx(u,{children:e.jsx(h,{type:"password",placeholder:"Confirm new password",...t})}),e.jsx(j,{})]})})]})]}),e.jsxs(q,{className:"gap-3 sm:gap-3",children:[e.jsx(y,{type:"button",variant:"outline",onClick:i,children:"Cancel"}),e.jsx(y,{type:"submit",variant:"default",disabled:s.formState.isSubmitting,children:s.formState.isSubmitting?"Saving...":"Save"})]})]})})]})})}function oe(){return"lang"}const ne=[{code:"en",label:"English"},{code:"fr-CA",label:"Français"}];function ie(){const r=oe(),x=$(r)||"en",[a,o]=g.useState(x),n=s=>{o(s);const p=3600*24*365;M(r,s,p)};return e.jsxs(k,{children:[e.jsx(v,{asChild:!0,className:"text-white hover:text-primary",children:e.jsx("button",{className:"rounded-full p-2 transition-colors hover:bg-white/10",children:e.jsx(G,{className:"h-5 w-5"})})}),e.jsx(P,{align:"end",className:"w-40",children:ne.map(s=>e.jsxs(w,{onClick:()=>n(s.code),className:"flex cursor-pointer items-center justify-between",children:[e.jsx("span",{children:s.label}),a===s.code&&e.jsx(O,{className:"h-4 w-4 text-black"})]},s.code))})]})}function fe({className:r,fixed:x,isShowUser:a=!0,...o}){const n=L(),{auth:s}=F(),[p,i]=g.useState(!1),t=N=>{switch(N){case"team":n.navigate({to:"/users"});break;case"profile":i(!0);break;case"logout":S();break}},S=()=>{new A().logout({status200:()=>{s.reset(),n.navigate({to:"/login"})}})};return e.jsxs(e.Fragment,{children:[e.jsxs("header",{className:`fixed top-0 right-0 left-0 z-50 flex h-16 w-full items-center justify-between  bg-[#0A0A0A]  px-6 text-primary-foreground ${r||""} `,...o,children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("img",{src:re,alt:"Audi",className:"h-20 w-20 object-contain"}),e.jsxs("div",{children:[e.jsx("span",{className:"mr-2 text-sm font-medium text-red-500",children:"Audi"}),e.jsx("span",{className:"text-sm font-medium   text-white",children:"Restricted Parts Tracker."})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[a&&e.jsxs(k,{children:[e.jsx(v,{asChild:!0,children:e.jsxs("button",{className:"flex justify-center items-center gap-3 rounded-full pr-2 transition-colors hover:bg-white/10",children:[e.jsxs("div",{className:"text-left text-white",children:[e.jsx("p",{className:"text-sm leading-none font-medium",children:s.user?`${s.user.firstName} ${s.user.lastName}`.trim()||s.user.email:"User"}),e.jsx("p",{className:"text-xs text-gray-400",children:s.user?s.user.shopName&&s.user.shopNumber?`${s.user.shopName}(${s.user.shopNumber}) | ${s.user.type}`:s.user.dealershipName&&s.user.dealershipNumber?`${s.user.dealershipName}(${s.user.dealershipNumber}) | ${s.user.type}`:s.user.type:"Not logged in"})]}),e.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})}),e.jsxs(P,{align:"end",className:"mt-2 w-56",children:[e.jsx(D,{className:"font-normal",children:e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx("p",{className:"text-sm font-medium",children:s.user?`${s.user.firstName} ${s.user.lastName}`.trim()||s.user.email:"User"}),e.jsx("p",{className:"text-muted-foreground text-xs",children:s.user?s.user.shopName&&s.user.shopNumber?`${s.user.shopName}(${s.user.shopNumber}) | ${s.user.type}`:s.user.dealershipName&&s.user.dealershipNumber?`${s.user.dealershipName}(${s.user.dealershipNumber}) | ${s.user.type}`:s.user.type:"Not logged in"})]})}),e.jsx(b,{}),e.jsxs(w,{className:"cursor-pointer",onSelect:()=>t("team"),children:[e.jsx(se,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"View Team"})]}),e.jsxs(w,{className:"cursor-pointer",onSelect:()=>t("profile"),children:[e.jsx(Z,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Edit Profile"})]}),e.jsx(b,{}),e.jsxs(w,{className:"cursor-pointer text-red-600 focus:text-red-600",onSelect:()=>t("logout"),children:[e.jsx(X,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Logout"})]})]})]}),e.jsx("div",{className:"rounded-full p-2 transition-colors hover:bg-white/10 text-white",children:e.jsx(ie,{})})]})]}),e.jsx(ae,{open:p,onOpenChange:i})]})}export{fe as H,K as L,se as U,X as a};
