import{b as d,d as f,e as l,r as s,j as e,O as n}from"./index-C42HdEAO.js";import{L as m}from"./Loading-snV3B40Z.js";import{A as g}from"./authenticated-layout-BwXOQMMJ.js";import{H as h}from"./header-only-layout-Bdl7WxAp.js";import"./search-provider-_1IvRZ8f.js";import"./command-1nywWMxd.js";import"./dialog-Do1388aj.js";import"./index-DhRU68Sr.js";import"./index-BtDNtm75.js";import"./Combination-BxR3-cqx.js";import"./index-9qar58Re.js";import"./x-BIvBkc1L.js";import"./search-CjIPlhsm.js";import"./header-DRs42Vp_.js";import"./dropdown-menu-vy7RPfPt.js";import"./index-aWiEp8L1.js";import"./index-BLiGQKRh.js";import"./check-BsQ3GXk8.js";import"./chevron-right-DUehkqfC.js";import"./form-B2zkyAOu.js";import"./label-B94-SQNf.js";import"./input-xhzhTNVG.js";import"./separator-DAWsWUQa.js";import"./user-Bvc95aWY.js";import"./badge-BkdkAdIK.js";import"./building-2-Cy7joKJa.js";import"./scroll-area-DO59OEki.js";import"./index-BdQq_4o_.js";import"./sign-out-dialog-CadwCzio.js";import"./confirm-dialog-gqr6_aHC.js";import"./tooltip-nTnJ5CpX.js";import"./index-AO9tCzq1.js";import"./index-BMWUdYQg.js";import"./bell-BFkK-O-x.js";const S=["/parts_orders","/repair_orders"],p=(t,r)=>{if(r){if(t==="/parts_orders"||t==="/")return"/admin/parts_orders"}else if(t.startsWith("/admin/")||t==="/")return"/parts_orders";return null};function Z(){const{auth:t}=d(),r=f(),a=l(),i=t.user?.type==="ProgramAdministrator";s.useEffect(()=>{},[t.user]),s.useEffect(()=>{if(t.loginStatus==="checking"||t.loginStatus!=="authenticated")return;const o=p(r.pathname,i);o&&a({to:o,replace:!0})},[t.loginStatus,i,r.pathname,a]);const u=s.useMemo(()=>t.loginStatus!=="authenticated"?!1:p(r.pathname,i)!==null,[t.loginStatus,r.pathname,i]),c=s.useMemo(()=>!S.some(o=>r.pathname===o||r.pathname.startsWith(o+"/")),[r.pathname]);return t.loginStatus==="checking"?e.jsx(m,{}):t.loginStatus!=="authenticated"?e.jsx(n,{}):u?e.jsx(m,{}):!c||!i?e.jsx(h,{children:e.jsx(n,{})}):e.jsx(g,{})}export{Z as component};
