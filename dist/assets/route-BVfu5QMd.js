import{b as u,r as n,j as e,d as c,e as p,v as f,f as g,g as x,h,i as _,O as j}from"./index-AEJqH7X3.js";import{L as d}from"./Loading-kNJkgnPR.js";import{A as b}from"./authenticated-layout-CgaKpEtp.js";import{H as v}from"./header-only-layout-DJ0yNwks.js";import{G as C}from"./header--K_aAJIq.js";import"./search-provider-C-Ic5L1h.js";import"./command-v0r6u2pO.js";import"./dialog-VSGVEgcW.js";import"./index-DHA2SvWU.js";import"./index-DJLl_0xC.js";import"./Combination-sHhQTmF-.js";import"./index-DyU3SkHl.js";import"./x-jFcJKXCZ.js";import"./search-Vz5iWtZn.js";import"./building-2-DdJkf86v.js";import"./scroll-area-9xV2SeFu.js";import"./index-CeOSSZ_G.js";import"./chevron-right-PyYQBaYj.js";import"./sidebar-BZm0qJUE.js";import"./sheet-B6fNGPwx.js";import"./tooltip-De1zdByU.js";import"./badge-DYcg5A6J.js";import"./dropdown-menu-CYqkwGZA.js";import"./index-CbndJyd8.js";import"./index-DwAwodCa.js";import"./check-Cpyw8Zmg.js";import"./form-B-9o-mGd.js";import"./PersonApi-CTYx9n-F.js";import"./input-CmFiA4aS.js";import"./separator-Dq2d3GQ3.js";function w(){const r=u(),[t,o]=n.useState(null),a=[{id:"audi-america",img:p,alt:"Audi Authorized Collision Repair - Group of America",brandPrefix:"audi",region:"america"},{id:"vw-america",img:f,alt:"Volkswagen Certified Collision Repair Facility Program - Group of America",brandPrefix:"vw",region:"america"},{id:"audi-canada",img:g,alt:"Audi Authorized Collision Repair - Group of Canada",brandPrefix:"audi",region:"canada"},{id:"vw-canada",img:x,alt:"Volkswagen Certified Collision Repair Facility Program - Group of Canada",brandPrefix:"vw",region:"canada"}],l=i=>{o(i.id),r({to:"/login",search:{brand:i.brandPrefix,region:i.region},replace:!1})};return e.jsxs("div",{className:"bg-background relative flex min-h-screen flex-col items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0",children:e.jsx("img",{src:c,alt:"Collision repair background",className:"h-full w-full object-cover"})}),e.jsxs("div",{className:"z-10 w-full max-w-6xl px-4 sm:px-8",children:[e.jsx("h1",{className:"text-center text-5xl font-bold tracking-tight text-white md:text-6xl",children:"Restricted Parts Tracker"}),e.jsx("div",{className:"mt-10 grid grid-cols-2 gap-6",children:a.map(i=>e.jsx("div",{onClick:()=>l(i),className:`flex cursor-pointer flex-col items-center space-y-4 rounded-lg bg-white py-5 transition-all duration-300 ${t===i.id?"scale-105 border-2 border-dashed border-blue-500":"hover:scale-105"}`,children:e.jsx("img",{src:i.img,alt:i.alt,className:"h-40 w-90 object-fill drop-shadow-lg"})},i.id))})]}),e.jsxs("div",{className:"text-white z-10 mt-10 flex items-center justify-center gap-4",children:[e.jsx(C,{className:"h-5 w-5"}),e.jsxs("div",{className:"flex items-center gap-4 text-sm font-medium",children:[e.jsx("button",{className:"transition hover:text-gray-600",children:"English"}),e.jsx("span",{children:"|"}),e.jsx("button",{className:"text-gray-500 transition hover:text-gray-700",children:"FranÃ§ais"})]})]})]})}const A=["/parts_orders","/repair_orders"],m=(r,t)=>t?t==="ProgramAdministrator"?r==="/parts_orders"||r==="/"?"/admin/parts_orders":null:t==="Shop"?r==="/parts_orders"||r.startsWith("/parts_orders/")||r.startsWith("/admin/")||r==="/"?"/repair_orders":null:t==="Csr"||t==="Dealership"?r.startsWith("/repair_orders/")?null:r==="/repair_orders"||r==="/"||r.startsWith("/admin/")?"/parts_orders":null:t==="FieldStaff"?r==="/repair_orders"||r.startsWith("/repair_orders/")||r.startsWith("/admin/")||r==="/"?"/parts_orders":null:r.startsWith("/admin/")||r==="/"?"/parts_orders":null:null;function er(){const{auth:r}=h(),t=_(),o=u(),a=r.user?.person?.type==="ProgramAdministrator";n.useEffect(()=>{},[r.user]),n.useEffect(()=>{if(r.loginStatus==="checking"||r.loginStatus!=="authenticated")return;const s=m(t.pathname,r.user?.person?.type);s&&o({to:s,replace:!0})},[r.loginStatus,a,t.pathname,o]);const l=n.useMemo(()=>r.loginStatus!=="authenticated"?!1:m(t.pathname,r.user?.person?.type)!==null,[r.loginStatus,t.pathname,a]),i=n.useMemo(()=>!A.some(s=>t.pathname===s||t.pathname.startsWith(s+"/")),[t.pathname]);return r.loginStatus==="checking"?e.jsx(d,{}):r.loginStatus!=="authenticated"?e.jsx(w,{}):l?e.jsx(d,{}):!i||!a?e.jsx(v,{children:e.jsx(j,{})}):e.jsx(b,{})}export{er as component};
