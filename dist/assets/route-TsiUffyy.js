import{b as u,r as n,j as e,d as g,e as x,v as h,f as b,g as R,h as j,i as w,k as v,O as _}from"./index-DiI2ffAh.js";import{L as l}from"./Loading-QGL_XBaH.js";import{A as C}from"./authenticated-layout-yX-Ni0zs.js";import{H as A}from"./header-only-layout-Cpt2MNT6.js";import{G as N}from"./header-BJ4bOhv6.js";import"./search-provider-DE3XVmHF.js";import"./command-CWvopmmU.js";import"./dialog-BfbMbQ8-.js";import"./index-B9OW1ajA.js";import"./index-B0ORnztA.js";import"./Combination-D_vfDq5J.js";import"./index-lW_6OgVn.js";import"./x-DoFJH5Nd.js";import"./search-Dee6z3yd.js";import"./building-2-Buu7Mufq.js";import"./scroll-area-CFguzc3f.js";import"./index-DHosPbdR.js";import"./chevron-right-B2dPWAbi.js";import"./sidebar-Cf_Pj1kB.js";import"./sheet-CIQVo0OO.js";import"./tooltip-D0HhMqED.js";import"./badge-CmxtL1uP.js";import"./dropdown-menu-DS9Dg1PJ.js";import"./index-BesrJGlS.js";import"./index-DTR4e_QT.js";import"./check-Ca0fbDYF.js";import"./PersonApi-CgbCoTOu.js";import"./form-BztM4JIr.js";import"./input-anrjtq5m.js";import"./separator-unOUWFl-.js";function S(){const r=u(),[t,a]=n.useState(null),d=[{id:"audi-america",img:x,alt:"Audi Authorized Collision Repair - Group of America",brandPrefix:"audi",region:"america"},{id:"vw-america",img:h,alt:"Volkswagen Certified Collision Repair Facility Program - Group of America",brandPrefix:"vw",region:"america"},{id:"audi-canada",img:b,alt:"Audi Authorized Collision Repair - Group of Canada",brandPrefix:"audi",region:"canada"},{id:"vw-canada",img:R,alt:"Volkswagen Certified Collision Repair Facility Program - Group of Canada",brandPrefix:"vw",region:"canada"}],s=i=>{a(i.id),r({to:"/login",search:{brand:i.brandPrefix,region:i.region},replace:!1})};return e.jsxs("div",{className:"bg-background relative flex min-h-screen flex-col items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0",children:e.jsx("img",{src:g,alt:"Collision repair background",className:"h-full w-full object-cover"})}),e.jsxs("div",{className:"z-10 w-full max-w-6xl px-4 sm:px-8",children:[e.jsx("h1",{className:"text-center text-5xl font-bold tracking-tight text-white md:text-6xl",children:"Restricted Parts Tracker"}),e.jsx("div",{className:"mt-10 grid grid-cols-2 gap-6",children:d.map(i=>e.jsx("div",{onClick:()=>s(i),className:`flex cursor-pointer flex-col items-center space-y-4 rounded-lg bg-white py-5 transition-all duration-300 ${t===i.id?"scale-105 border-2 border-dashed border-blue-500":"hover:scale-105"}`,children:e.jsx("img",{src:i.img,alt:i.alt,className:"h-40 w-90 object-fill drop-shadow-lg"})},i.id))})]}),e.jsxs("div",{className:"text-white z-10 mt-10 flex items-center justify-center gap-4",children:[e.jsx(N,{className:"h-5 w-5"}),e.jsxs("div",{className:"flex items-center gap-4 text-sm font-medium",children:[e.jsx("button",{className:"transition hover:text-gray-600",children:"English"}),e.jsx("span",{children:"|"}),e.jsx("button",{className:"text-gray-500 transition hover:text-gray-700",children:"FranÃ§ais"})]})]})]})}const y=["/parts_orders","/repair_orders"],k={ProgramAdministrator:{forbiddenRoute:"/admin/parts_orders",defaultRoute:"/admin/parts_orders",allowedRoutes:["/admin","/parts_orders"]},Shop:{forbiddenRoute:"/repair_orders",defaultRoute:"/repair_orders",allowedRoutes:["/repair_orders"]},Csr:{forbiddenRoute:"/parts_orders",defaultRoute:"/parts_orders",allowedRoutes:["/parts_orders","/repair_orders"]},Dealership:{forbiddenRoute:"/parts_orders",defaultRoute:"/parts_orders",allowedRoutes:["/parts_orders","/repair_orders"]},FieldStaff:{forbiddenRoute:"/parts_orders",defaultRoute:"/parts_orders",allowedRoutes:["/parts_orders"]}};function P(r,t){return r==="/"?!1:t.some(a=>r===a||r.startsWith(a+"/"))}function c(r,t){if(!t)return null;const a=k[t];return r==="/"?a.defaultRoute:P(r,a.allowedRoutes)?null:a.forbiddenRoute}function ne(){const{auth:r}=j(),t=w(),a=u(),d=v(o=>o.isLoading),s=r.user?.person?.type,i=s==="ProgramAdministrator";n.useEffect(()=>{},[r]),n.useEffect(()=>{if(r.loginStatus==="checking"||r.loginStatus!=="authenticated")return;const o=c(t.pathname,s);o&&a({to:o,replace:!0})},[r.loginStatus,s,t.pathname,a]);const m=n.useMemo(()=>r.loginStatus!=="authenticated"?!1:c(t.pathname,s)!==null,[r.loginStatus,t.pathname,s]),p=n.useMemo(()=>!y.some(o=>t.pathname===o||t.pathname.startsWith(o+"/")),[t.pathname]);if(r.loginStatus==="checking")return e.jsx(l,{});if(r.loginStatus!=="authenticated")return e.jsx(S,{});if(m)return e.jsx(l,{});const f=i&&p;return e.jsxs(e.Fragment,{children:[f?e.jsx(C,{}):e.jsx(A,{children:e.jsx(_,{})}),d&&e.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/20 backdrop-blur-sm",children:e.jsx(l,{})})]})}export{ne as component};
