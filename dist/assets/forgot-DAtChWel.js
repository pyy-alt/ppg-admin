import{n as f,b as h,h as b,r as l,A as y,j as e,o as j,B as v,F as w,t as n}from"./index-DF39fIja.js";import{u as N,M as S}from"./use-redirect-if-authenticated-6VcuL3CV.js";import{I as k}from"./input-Beg9W2YX.js";import{H as A}from"./header-DoDzArY3.js";import"./Loading-C8C64_a4.js";import"./PersonApi-UNEICmIC.js";import"./dropdown-menu-BKc0PutE.js";import"./index-B6vVFevd.js";import"./index-DJ3P-8yo.js";import"./Combination-CALKROlh.js";import"./index-DLqox5B5.js";import"./index-2iuGDpoq.js";import"./index-C-3QEpCy.js";import"./check-BwEiyP4O.js";import"./chevron-right-CAHHUv44.js";import"./form-BIShFU0p.js";import"./dialog-CiovlyiG.js";import"./x-DO36lSba.js";import"./separator-6urJY0hO.js";import"./badge-BS8zFS8p.js";const m=new y;function P(){const c=f("login","_a.png"),u=h(),{auth:t}=b(),[a,s]=l.useState(!1),[r,p]=l.useState(""),{isLoading:g,LoadingComponent:d}=N();l.useEffect(()=>{t.loginStatus==="authenticated"?m.logout({status200:()=>{t.reset()},error:()=>{t.reset()}}):t.reset()},[]);const x=async o=>{o.preventDefault(),s(!0);try{const i=new w;i.email=r,m.forgotPassword(i,{status200:()=>{n.success(`Password reset link has been sent to ${r}`),u({to:"/login"}),s(!1)},error:()=>{n.error("Failed to send reset link. Please try again."),s(!1)}})}catch{n.error("Failed to send reset link. Please try again."),s(!1)}};return g&&d?e.jsx(d,{}):e.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[e.jsx(A,{isShowUser:!1}),e.jsxs("div",{className:"flex flex-1 flex-col",children:[e.jsx("div",{className:"flex flex-col items-center justify-center px-6 py-12 lg:py-16",style:{backgroundImage:`url(${j})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:e.jsx("div",{className:"max-w-lg space-y-8 text-center",children:c?e.jsx("img",{loading:"lazy",src:c,alt:"Audi Authorized Collision Repair",className:"mx-auto h-36 w-auto drop-shadow-xl lg:h-56"}):null})}),e.jsx("div",{className:"flex flex-1 items-start justify-center bg-card px-1 py-2 lg:py-12",children:e.jsxs("div",{className:"w-full max-w-md p-8 lg:p-10",children:[e.jsx("h2",{className:"mb-4 text-center text-3xl font-bold text-foreground lg:text-4xl",children:"Forgot Password"}),e.jsxs("form",{onSubmit:x,className:"space-y-7",children:[e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"relative my-10",children:[e.jsx(S,{className:"absolute top-1/2 left-4 h-5 w-5 -translate-y-1/2 text-muted-foreground"}),e.jsx(k,{id:"email",type:"email",placeholder:"Enter your email",className:"h-14 rounded-full border-gray-300 pl-12 text-base focus:border-cyan-500 focus:ring-2 focus:ring-cyan-100",value:r,onChange:o=>p(o.target.value),required:!0,disabled:a})]})}),e.jsx(v,{type:"submit",variant:"default",className:"h-14 w-full rounded-full text-base font-semibold shadow-md transition-all",disabled:a,children:a?"Sending...":"Send Reset Link"})]})]})})]})]})}const T=P;export{T as component};
