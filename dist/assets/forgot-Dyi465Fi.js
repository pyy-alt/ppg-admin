import{m as f,b as h,h as b,r as l,A as y,j as e,n as j,B as v,F as w,t as n}from"./index-AEJqH7X3.js";import{u as N,M as S}from"./use-redirect-if-authenticated-CP78VNEq.js";import{I as k}from"./input-CmFiA4aS.js";import{H as A}from"./header--K_aAJIq.js";import"./Loading-kNJkgnPR.js";import"./dropdown-menu-CYqkwGZA.js";import"./index-DHA2SvWU.js";import"./index-CbndJyd8.js";import"./Combination-sHhQTmF-.js";import"./index-DJLl_0xC.js";import"./index-DyU3SkHl.js";import"./index-DwAwodCa.js";import"./check-Cpyw8Zmg.js";import"./chevron-right-PyYQBaYj.js";import"./form-B-9o-mGd.js";import"./PersonApi-CTYx9n-F.js";import"./dialog-VSGVEgcW.js";import"./x-jFcJKXCZ.js";import"./separator-Dq2d3GQ3.js";import"./badge-DYcg5A6J.js";const m=new y;function P(){const c=f("login","_a.png"),u=h(),{auth:t}=b(),[a,s]=l.useState(!1),[r,p]=l.useState(""),{isLoading:g,LoadingComponent:d}=N();l.useEffect(()=>{t.loginStatus==="authenticated"?m.logout({status200:()=>{t.reset()},error:()=>{t.reset()}}):t.reset()},[]);const x=async o=>{o.preventDefault(),s(!0);try{const i=new w;i.email=r,m.forgotPassword(i,{status200:()=>{n.success(`Password reset link has been sent to ${r}`),u({to:"/login"}),s(!1)},error:()=>{n.error("Failed to send reset link. Please try again."),s(!1)}})}catch{n.error("Failed to send reset link. Please try again."),s(!1)}};return g&&d?e.jsx(d,{}):e.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[e.jsx(A,{isShowUser:!1}),e.jsxs("div",{className:"flex flex-1 flex-col",children:[e.jsx("div",{className:"flex flex-col items-center justify-center px-6 py-12 lg:py-16",style:{backgroundImage:`url(${j})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:e.jsx("div",{className:"max-w-lg space-y-8 text-center",children:c?e.jsx("img",{loading:"lazy",src:c,alt:"Audi Authorized Collision Repair",className:"mx-auto h-36 w-auto drop-shadow-xl lg:h-56"}):null})}),e.jsx("div",{className:"flex flex-1 items-start justify-center bg-card px-1 py-2 lg:py-12",children:e.jsxs("div",{className:"w-full max-w-md p-8 lg:p-10",children:[e.jsx("h2",{className:"mb-4 text-center text-3xl font-bold text-foreground lg:text-4xl",children:"Forgot Password"}),e.jsxs("form",{onSubmit:x,className:"space-y-7",children:[e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"relative my-10",children:[e.jsx(S,{className:"absolute top-1/2 left-4 h-5 w-5 -translate-y-1/2 text-muted-foreground"}),e.jsx(k,{id:"email",type:"email",placeholder:"Enter your email",className:"h-14 rounded-full border-gray-300 pl-12 text-base focus:border-cyan-500 focus:ring-2 focus:ring-cyan-100",value:r,onChange:o=>p(o.target.value),required:!0,disabled:a})]})}),e.jsx(v,{type:"submit",variant:"default",className:"h-14 w-full rounded-full text-base font-semibold shadow-md transition-all",disabled:a,children:a?"Sending...":"Send Reset Link"})]})]})})]})]})}const T=P;export{T as component};
