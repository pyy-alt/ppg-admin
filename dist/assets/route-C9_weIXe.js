import{b as d,d as f,e as l,r as s,j as e,O as n}from"./index-BLoyOwMx.js";import{L as m}from"./Loading-D1N6TMv6.js";import{A as g}from"./authenticated-layout-DygGApiT.js";import{H as h}from"./header-only-layout-2GVINMGP.js";import"./search-provider-VdtNaqQj.js";import"./command-BSOA3x2M.js";import"./dialog-Bc8KpLtT.js";import"./index-dZd-BMAV.js";import"./index-QepcOU6L.js";import"./Combination-BAMHyZ9Y.js";import"./index-DqhBytGz.js";import"./x-BrS1Xc2W.js";import"./search-EwkWpDwu.js";import"./header-CobFEfmz.js";import"./dropdown-menu-e4nvVUns.js";import"./index-QFuqZRo-.js";import"./index-BrrJFWkZ.js";import"./check-C049BlOK.js";import"./chevron-right-QEi6ffMl.js";import"./form-Bv7oDV2N.js";import"./label-BkpQnFCu.js";import"./input-CT4loVds.js";import"./separator-BqvfaLvR.js";import"./user-CbhXsA-X.js";import"./badge-MpNgBHQk.js";import"./building-2-cdDY7yCA.js";import"./scroll-area-DtMlfIsk.js";import"./index-BdQq_4o_.js";import"./sidebar-B5tGiECd.js";import"./sheet-Clh_LBvu.js";import"./tooltip-CBRPLaFc.js";import"./index-DMMtqFmi.js";const S=["/parts_orders","/repair_orders"],p=(t,r)=>{if(r){if(t==="/parts_orders"||t==="/")return"/admin/parts_orders"}else if(t.startsWith("/admin/")||t==="/")return"/parts_orders";return null};function X(){const{auth:t}=d(),r=f(),a=l(),i=t.user?.type==="ProgramAdministrator";s.useEffect(()=>{},[t.user]),s.useEffect(()=>{if(t.loginStatus==="checking"||t.loginStatus!=="authenticated")return;const o=p(r.pathname,i);o&&a({to:o,replace:!0})},[t.loginStatus,i,r.pathname,a]);const u=s.useMemo(()=>t.loginStatus!=="authenticated"?!1:p(r.pathname,i)!==null,[t.loginStatus,r.pathname,i]),c=s.useMemo(()=>!S.some(o=>r.pathname===o||r.pathname.startsWith(o+"/")),[r.pathname]);return t.loginStatus==="checking"?e.jsx(m,{}):t.loginStatus!=="authenticated"?e.jsx(n,{}):u?e.jsx(m,{}):!c||!i?e.jsx(h,{children:e.jsx(n,{})}):e.jsx(g,{})}export{X as component};
