import{c as i,a as o,d as f,r as s,m as l}from"./index-DvwH5F9Z.js";import{L as h}from"./Loading-DjNax36X.js";const g=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],k=i("mail",g);function m(){const{auth:e}=o(),n=f(),[c,t]=s.useState(!0),a=s.useRef(!1),u=s.useRef(!1);s.useEffect(()=>{if(e.loginStatus==="authenticated"){a.current=!0,t(!1),n({to:"/",replace:!0});return}if(a.current&&e.loginStatus==="unauthenticated"){t(!1);return}e.loginStatus==="unauthenticated"?l().then(()=>{a.current=!0,u.current=!1,t(!1)}).catch(()=>{a.current=!0,u.current=!1,t(!1)}):e.loginStatus==="checking"?t(!0):t(!1)},[e.loginStatus,n]);const r=c||e.loginStatus==="checking"||e.loginStatus==="authenticated";return{isLoading:r,LoadingComponent:r?h:null}}export{k as M,m as u};
