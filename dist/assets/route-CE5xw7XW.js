import{b as m,r as n,j as e,d as f,e as p,v as g,f as x,g as h,h as j,i as b,k as _,O as v}from"./index-bZPt74SL.js";import{L as d}from"./Loading-DvxbuYKm.js";import{A as C}from"./authenticated-layout-B4VFkfq5.js";import{H as w}from"./header-only-layout-CdwEHF56.js";import{G as k}from"./header-qTyXPqs3.js";import"./search-provider-DzoA6NSo.js";import"./command-D9Fefqby.js";import"./dialog-DyU8MlPO.js";import"./index-BAv-q7Sn.js";import"./index-BMiWLKrh.js";import"./Combination-C2X8UjKH.js";import"./index-CJ8ye8BA.js";import"./x-BdNzPY10.js";import"./search-DHWuWzUR.js";import"./building-2-NKdgdULG.js";import"./scroll-area-C08dUgxo.js";import"./index-BDNPEbHM.js";import"./chevron-right-BMMQv83b.js";import"./sidebar-Ch0UbPTE.js";import"./sheet-CXDe0a-u.js";import"./tooltip-Dy5-W70q.js";import"./badge-B483Njh1.js";import"./dropdown-menu-tQledoqF.js";import"./index-B5XdlCk6.js";import"./index-BezWuCKb.js";import"./check-D9nIkqgl.js";import"./PersonApi-DoDgYvr6.js";import"./form-C97xBvhE.js";import"./input-W45EOFir.js";import"./separator-AAFKv4Ad.js";function A(){const r=m(),[t,o]=n.useState(null),l=[{id:"audi-america",img:p,alt:"Audi Authorized Collision Repair - Group of America",brandPrefix:"audi",region:"america"},{id:"vw-america",img:g,alt:"Volkswagen Certified Collision Repair Facility Program - Group of America",brandPrefix:"vw",region:"america"},{id:"audi-canada",img:x,alt:"Audi Authorized Collision Repair - Group of Canada",brandPrefix:"audi",region:"canada"},{id:"vw-canada",img:h,alt:"Volkswagen Certified Collision Repair Facility Program - Group of Canada",brandPrefix:"vw",region:"canada"}],a=i=>{o(i.id),r({to:"/login",search:{brand:i.brandPrefix,region:i.region},replace:!1})};return e.jsxs("div",{className:"bg-background relative flex min-h-screen flex-col items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0",children:e.jsx("img",{src:f,alt:"Collision repair background",className:"h-full w-full object-cover"})}),e.jsxs("div",{className:"z-10 w-full max-w-6xl px-4 sm:px-8",children:[e.jsx("h1",{className:"text-center text-5xl font-bold tracking-tight text-white md:text-6xl",children:"Restricted Parts Tracker"}),e.jsx("div",{className:"mt-10 grid grid-cols-2 gap-6",children:l.map(i=>e.jsx("div",{onClick:()=>a(i),className:`flex cursor-pointer flex-col items-center space-y-4 rounded-lg bg-white py-5 transition-all duration-300 ${t===i.id?"scale-105 border-2 border-dashed border-blue-500":"hover:scale-105"}`,children:e.jsx("img",{src:i.img,alt:i.alt,className:"h-40 w-90 object-fill drop-shadow-lg"})},i.id))})]}),e.jsxs("div",{className:"text-white z-10 mt-10 flex items-center justify-center gap-4",children:[e.jsx(k,{className:"h-5 w-5"}),e.jsxs("div",{className:"flex items-center gap-4 text-sm font-medium",children:[e.jsx("button",{className:"transition hover:text-gray-600",children:"English"}),e.jsx("span",{children:"|"}),e.jsx("button",{className:"text-gray-500 transition hover:text-gray-700",children:"FranÃ§ais"})]})]})]})}const N=["/parts_orders","/repair_orders"],c=(r,t)=>t?t==="ProgramAdministrator"?r==="/parts_orders"||r==="/"?"/admin/parts_orders":null:t==="Shop"?r==="/parts_orders"||r.startsWith("/parts_orders/")||r.startsWith("/admin/")||r==="/"?"/repair_orders":null:t==="Csr"||t==="Dealership"?r.startsWith("/repair_orders/")?null:r==="/repair_orders"||r==="/"||r.startsWith("/admin/")?"/parts_orders":null:t==="FieldStaff"?r==="/repair_orders"||r.startsWith("/repair_orders/")||r.startsWith("/admin/")||r==="/"?"/parts_orders":null:r.startsWith("/admin/")||r==="/"?"/parts_orders":null:null;function ir(){const{auth:r}=j(),t=b(),o=m(),l=_(s=>s.isLoading),a=r.user?.person?.type==="ProgramAdministrator";n.useEffect(()=>{},[r.user]),n.useEffect(()=>{if(r.loginStatus==="checking"||r.loginStatus!=="authenticated")return;const s=c(t.pathname,r.user?.person?.type);s&&o({to:s,replace:!0})},[r.loginStatus,a,t.pathname,o]);const i=n.useMemo(()=>r.loginStatus!=="authenticated"?!1:c(t.pathname,r.user?.person?.type)!==null,[r.loginStatus,t.pathname,a]),u=n.useMemo(()=>!N.some(s=>t.pathname===s||t.pathname.startsWith(s+"/")),[t.pathname]);return r.loginStatus==="checking"?e.jsx(d,{}):r.loginStatus!=="authenticated"?e.jsx(A,{}):i?e.jsx(d,{}):!u||!a?e.jsxs(e.Fragment,{children:[e.jsx(w,{children:e.jsx(v,{})}),l&&e.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/20 backdrop-blur-sm",children:e.jsx(d,{})})]}):e.jsxs(e.Fragment,{children:[e.jsx(C,{}),l&&e.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/20 backdrop-blur-sm",children:e.jsx(d,{})})]})}export{ir as component};
