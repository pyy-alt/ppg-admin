import{b as i,e as o,r as n}from"./index-BLoyOwMx.js";function c(){const{auth:t}=i(),u=o(),[e,s]=n.useState(!1);return n.useEffect(()=>{if(t.loginStatus==="authenticated"){s(!0);return}if(t.loginStatus==="checking")return;const a=setTimeout(()=>{s(!0)},2e3);return()=>clearTimeout(a)},[t.loginStatus]),n.useEffect(()=>{if(t.loginStatus==="unauthenticated"&&e){const a=window.location.pathname+window.location.search;u({to:"/login",search:{redirect:a},replace:!0})}},[t.loginStatus,e,u]),{isAuthenticated:t.loginStatus==="authenticated",isLoading:!e||t.loginStatus==="checking",user:t.user}}export{c as u};
